{% extends 'base.html' %}

{% load widget_tweaks %}



{% block title %}{% block page_title %}面试官管理系统{% endblock %} - 拾光文创{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 flex flex-col">
    {% if user.is_authenticated %}
    <!-- 导航栏 -->
    <header class="bg-white shadow-md sticky top-0 z-40">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="{% url 'interviewer_dashboard' %}" class="flex items-center">
                    <img src="/media/logo.jpg" alt="Logo" class="h-8 w-8 rounded-full" />
                    <span class="font-bold text-xl ml-2 text-gray-800">拾光文创 - 面试官系统</span>
                </a>
                <div class="flex items-center space-x-6">
                    <span class="text-gray-600">欢迎，{{ user.name }}</span>
                    <span class="text-gray-500 text-sm">({{ user.department_team }})</span>
                    <a href="{% url 'interviewer_logout' %}" class="text-gray-600 hover:text-autumn-600 transition-colors">
                        <i data-lucide="log-out" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>
        </nav>
        
        <!-- 二级导航 -->
        <div class="bg-gray-50 border-t border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex space-x-8">
                    <a href="{% url 'interviewer_dashboard' %}" class="py-3 px-1 border-b-2 {% if request.resolver_match.url_name == 'interviewer_dashboard' %}border-autumn-600 text-autumn-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} transition-colors text-sm font-medium">
                        <i data-lucide="layout" class="w-4 h-4 mr-1"></i>仪表盘
                    </a>
                    <a href="{% url 'application_list' %}" class="py-3 px-1 border-b-2 {% if 'application_list' in request.resolver_match.url_name or 'application_detail' in request.resolver_match.url_name %}border-autumn-600 text-autumn-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} transition-colors text-sm font-medium">
                        <i data-lucide="file-text" class="w-4 h-4 mr-1"></i>申请列表
                    </a>
                    <a href="{% url 'interview_schedule' %}" class="py-3 px-1 border-b-2 {% if request.resolver_match.url_name == 'interview_schedule' %}border-autumn-600 text-autumn-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} transition-colors text-sm font-medium">
                        <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>面试安排
                    </a>
                    <a href="{% url 'time_slots' %}" class="py-3 px-1 border-b-2 {% if request.resolver_match.url_name == 'time_slots' %}border-autumn-600 text-autumn-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} transition-colors text-sm font-medium">
                        <i data-lucide="clock" class="w-4 h-4 mr-1"></i>时间设置
                    </a>
                </div>
            </div>
        </div>
    </header>
    {% endif %}

    <!-- 主内容区 -->
    <main class="flex-grow">
        <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            {% if messages %}
                {% for message in messages %}
                <div class="mb-4 p-4 rounded-lg {% if message.tags == 'success' %}bg-green-100 text-green-800{% elif message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}
            
            {% block main_content %}{% endblock %}
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-autumn-900 text-white py-6 mt-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-autumn-200 text-sm">© 2025 拾光文创. 面试官管理系统</p>
        </div>
    </footer>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // 初始化图标
    document.addEventListener('DOMContentLoaded', function() {
        window.lucide.createIcons();
    });
</script>
{% endblock %}
